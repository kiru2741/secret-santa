{"version":3,"sources":["pages/Home.js","firebase/firebase.js","pages/Register.js","pages/Play.js","pages/Layout.js","pages/NoPage.js","App.js","index.js"],"names":["homediv","margin","display","flexDirection","gap","Home","React","createElement","style","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","Register","formData","setFormData","useState","name","address","number","isAllowed","isAvailable","message","setMessage","usersCollection","collection","handleInputChange","e","value","target","prevData","[object Object]","className","onSubmit","async","preventDefault","console","log","addDoc","required","type","onChange","placeholder","Play","inputValue","setInputValue","randomUser","setRandomUser","loading","setLoading","users","getDocs","currUser","docs","filter","doc","id","length","data","available_users","Math","floor","random","randomUserRef","updateDoc","currUserRef","ButtonStyle","color","padding","borderRadius","backgroundColor","fontWeight","Layout","Fragment","Link","to","Outlet","NoPage","App","BrowserRouter","Routes","Route","path","element","index","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.122f6503.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst homediv = {\r\n  margin: \"5rem\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: \"1rem\",\r\n};\r\n\r\nfunction Home() {\r\n  return (\r\n    <div style={homediv}>\r\n      <h3>Here's how to play Secret Santa</h3>\r\n\r\n      <p>Participants register their names.</p>\r\n      <p>Names are mixed up.</p>\r\n      <p>Each participant draws a name.</p>\r\n      <p>\r\n        The person who draws a name is the Secret Santa of the person whose name\r\n        is drawn.\r\n      </p>\r\n      <p>The Secret Santa gifts the person.</p>\r\n      <p>\r\n        After opening their present, the giftee guesses who their Secret Santa\r\n        is.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDYkcfMqte6awVLNbDV-Obg1riHK4JtLaM\",\r\n  authDomain: \"secret-santa-f669f.firebaseapp.com\",\r\n  projectId: \"secret-santa-f669f\",\r\n  storageBucket: \"secret-santa-f669f.appspot.com\",\r\n  messagingSenderId: \"112658891852\",\r\n  appId: \"1:112658891852:web:0770883182127abed220e9\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n","import React, { useState } from \"react\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    number: \"\",\r\n    isAllowed: true,\r\n    isAvailable: true,\r\n  });\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Form submitted with data:\", formData);\r\n\r\n    try {\r\n      await addDoc(usersCollection, formData);\r\n      setMessage(\"Registration successful!\");\r\n    } catch (e) {\r\n      setMessage(e.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-form\">\r\n      <form onSubmit={handleSubmit} className=\"\">\r\n        <h3>Register to receive a gift from your Secret Santa</h3>\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Name\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"address\"\r\n          value={formData.address}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Address\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"number\"\r\n          value={formData.number}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Mobile number\"\r\n        />\r\n\r\n        <button type=\"submit\" className=\"\">\r\n          Submit\r\n        </button>\r\n        {message && <p className=\"message\">{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { getDocs, collection, doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\n\r\nconst Play = () => {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [randomUser, setRandomUser] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    //logic for form submission\r\n    const users = await getDocs(usersCollection);\r\n\r\n    let currUser = users.docs.filter((doc) => doc.id === inputValue);\r\n    setLoading(false);\r\n\r\n    if (currUser.length > 0 && currUser[0].data().isAllowed) {\r\n      setMessage(\r\n        \"Hi \" + currUser[0].data().name + \", You should gift this person.\"\r\n      );\r\n      //pick a random user form the available users\r\n      const available_users = users.docs.filter(\r\n        (doc) => doc.data().isAvailable === true && doc.id !== inputValue\r\n      );\r\n\r\n      const randomUser =\r\n        available_users[Math.floor(Math.random() * available_users.length)];\r\n\r\n      setRandomUser(randomUser);\r\n\r\n      //update the random user as not available\r\n      const randomUserRef = doc(db, \"users\", randomUser.id);\r\n      await updateDoc(randomUserRef, { isAvailable: false });\r\n\r\n      //update curr user as not allowed\r\n      const currUserRef = doc(db, \"users\", currUser[0].id);\r\n      await updateDoc(currUserRef, { isAllowed: false });\r\n      //\r\n    } else if (currUser.length > 0 && currUser[0].data().name) {\r\n      //\r\n      setMessage(\"Hi \" + currUser[0].data().name + \", Your turn was over.\");\r\n      //\r\n    } else {\r\n      setMessage(\"Invalid ID!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"draw-section\">\r\n      <h3>Enter your participant ID to draw a name</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Participant ID\"\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      {loading && <p>Loading...</p>}\r\n      {message && <p>{message}</p>}\r\n      {randomUser && (\r\n        <div className=\"drawn-user\">\r\n          <p>{randomUser.data().name}</p>\r\n          <p>{randomUser.data().address}</p>\r\n          <p>{randomUser.data().number}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import { Outlet, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst ButtonStyle = {\r\n  color: \"rgb(60,60,60)\",\r\n  padding: \"0.5rem 2rem\",\r\n  borderRadius: \"5rem\",\r\n  backgroundColor: \"white\",\r\n  fontWeight: \"bold\",\r\n};\r\n\r\nconst Layout = () => {\r\n  return (\r\n    <>\r\n      <nav className=\"navbar\">\r\n        <div className=\"nav-left\">\r\n          <Link to=\"/\">\r\n            <span>Secret Santa</span>\r\n          </Link>\r\n        </div>\r\n        <div className=\"nav-right\">\r\n          <Link to=\"/draw\" style={ButtonStyle}>\r\n            <span>Draw</span>\r\n          </Link>\r\n\r\n          <Link to=\"/register\" style={ButtonStyle}>\r\n            <span>Register</span>\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n\r\nconst NoPage = () => {\r\n  return <h1 style={{ margin: \"5rem\" }}>404</h1>;\r\n};\r\n\r\nexport default NoPage;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Register from \"./pages/Register\";\nimport Play from \"./pages/Play\";\nimport Layout from \"./pages/Layout\";\nimport NoPage from \"./pages/NoPage\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route index element={<Home />} />\n          <Route path=\"register\" element={<Register />} />\n          <Route path=\"draw\" element={<Play />} />\n          <Route path=\"*\" element={<NoPage />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n"],"sourceRoot":""}