{"version":3,"sources":["pages/Home.js","firebase/firebase.js","pages/Register.js","pages/Play.js","pages/Layout.js","pages/NoPage.js","App.js","index.js"],"names":["homediv","margin","display","flexDirection","gap","Home","React","createElement","style","src","alt","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","Register","formData","setFormData","useState","name","address","number","isAllowed","isAvailable","message","setMessage","loading","setLoading","usersCollection","collection","handleInputChange","e","value","target","prevData","[object Object]","className","onSubmit","async","preventDefault","addDoc","required","disabled","type","onChange","placeholder","spellCheck","Play","inputValue","setInputValue","randomUser","setRandomUser","users","getDocs","currUser","docs","filter","doc","id","length","data","available_users","Math","floor","random","randomUserRef","updateDoc","currUserRef","ButtonStyle","color","padding","borderRadius","backgroundColor","fontWeight","Layout","Fragment","Link","to","Outlet","NoPage","App","HashRouter","Routes","Route","path","element","index","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.007ab6a5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst homediv = {\r\n  margin: \"5rem\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: \"1rem\",\r\n};\r\n\r\nfunction Home() {\r\n  return (\r\n    <div style={homediv}>\r\n      <h3>Here's how to play Secret Santa</h3>\r\n\r\n      <p>Participants register their names, each participant draws a name.</p>\r\n\r\n      <p>\r\n        The person who draws a name is the Secret Santa of the person whose name\r\n        is drawn.\r\n      </p>\r\n      <p>\r\n        The Secret Santa gifts the person, after receiving their gifts, the\r\n        giftee guesses who their Secret Santa is.\r\n      </p>\r\n\r\n      <img\r\n        src=\"https://www.gwsmedia.com/sites/default/files/blog/images/Know%20the%20Law%20on%20Copyright.jpg\"\r\n        alt=\"Christmas background\"\r\n      ></img>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDYkcfMqte6awVLNbDV-Obg1riHK4JtLaM\",\r\n  authDomain: \"secret-santa-f669f.firebaseapp.com\",\r\n  projectId: \"secret-santa-f669f\",\r\n  storageBucket: \"secret-santa-f669f.appspot.com\",\r\n  messagingSenderId: \"112658891852\",\r\n  appId: \"1:112658891852:web:0770883182127abed220e9\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n","import React, { useState } from \"react\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    number: \"\",\r\n    isAllowed: true,\r\n    isAvailable: true,\r\n  });\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      await addDoc(usersCollection, formData);\r\n      setMessage(\"Registration successful!\");\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setMessage(e.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-form\">\r\n      <form onSubmit={handleSubmit} className=\"\">\r\n        {/* <h3>Register to receive a gift from secret Santa</h3> */}\r\n        <h3>Registration has been closed, come back next year.</h3>\r\n\r\n        <input\r\n          required\r\n          disabled\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Name\"\r\n          spellCheck=\"false\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          disabled\r\n          type=\"text\"\r\n          name=\"address\"\r\n          value={formData.address}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Address\"\r\n          spellCheck=\"false\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          disabled\r\n          type=\"text\"\r\n          name=\"number\"\r\n          value={formData.number}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Mobile number\"\r\n        />\r\n\r\n        <button disabled type=\"submit\" className=\"\">\r\n          Submit\r\n        </button>\r\n\r\n        {loading && <p style={{ margin: \"2rem 0\" }}>Loading...</p>}\r\n        {message && <p style={{ margin: \"2rem 0\" }}>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { getDocs, collection, doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\n\r\nconst Play = () => {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [randomUser, setRandomUser] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    //logic for form submission\r\n    const users = await getDocs(usersCollection);\r\n\r\n    let currUser = users.docs.filter((doc) => doc.id === inputValue);\r\n    setLoading(false);\r\n\r\n    if (currUser.length > 0 && currUser[0].data().isAllowed) {\r\n      setMessage(\r\n        \"Hi \" +\r\n          currUser[0].data().name +\r\n          \", You should gift this person, please make sure you note down/screenshot their details, you can't view it again.\"\r\n      );\r\n      //pick a random user form the available users\r\n      const available_users = users.docs.filter(\r\n        (doc) => doc.data().isAvailable === true && doc.id !== inputValue\r\n      );\r\n\r\n      const randomUser =\r\n        available_users[Math.floor(Math.random() * available_users.length)];\r\n\r\n      setRandomUser(randomUser);\r\n\r\n      //update the random user as not available\r\n      const randomUserRef = doc(db, \"users\", randomUser.id);\r\n      await updateDoc(randomUserRef, { isAvailable: false });\r\n\r\n      //update curr user as not allowed\r\n      const currUserRef = doc(db, \"users\", currUser[0].id);\r\n      await updateDoc(currUserRef, { isAllowed: false });\r\n      //\r\n    } else if (currUser.length > 0 && currUser[0].data().name) {\r\n      //\r\n      setMessage(\"Hi \" + currUser[0].data().name + \", Your turn was over.\");\r\n      //\r\n    } else {\r\n      setMessage(\"Invalid ID!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"draw-section\">\r\n      <h3>Enter your participant ID to draw a name</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Participant ID\"\r\n          required\r\n          spellCheck=\"false\"\r\n        />\r\n\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      {loading && <p>Loading...</p>}\r\n      {message && <p>{message}</p>}\r\n      {randomUser && (\r\n        <div className=\"drawn-user\">\r\n          <p>{randomUser.data().name}</p>\r\n          <p>{randomUser.data().address}</p>\r\n          <p>{randomUser.data().number}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import { Outlet, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst ButtonStyle = {\r\n  color: \"rgb(60,60,60)\",\r\n  padding: \"0.5rem 2rem\",\r\n  borderRadius: \"5rem\",\r\n  backgroundColor: \"rgb(255, 230, 230)\",\r\n  fontWeight: \"bold\",\r\n};\r\n\r\nconst Layout = () => {\r\n  return (\r\n    <>\r\n      <nav className=\"navbar\">\r\n        <div className=\"nav-left\">\r\n          <Link to=\"/\">\r\n            <span>Secret Santa </span>\r\n          </Link>\r\n        </div>\r\n        <div className=\"nav-right\">\r\n          <Link to=\"/draw\" style={ButtonStyle}>\r\n            <span>Draw names</span>\r\n          </Link>\r\n\r\n          <Link to=\"/register\" style={ButtonStyle}>\r\n            <span>Register</span>\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n\r\nconst NoPage = () => {\r\n  return <h1 style={{ margin: \"5rem\" }}>404</h1>;\r\n};\r\n\r\nexport default NoPage;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Register from \"./pages/Register\";\r\nimport Play from \"./pages/Play\";\r\nimport Layout from \"./pages/Layout\";\r\nimport NoPage from \"./pages/NoPage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <HashRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Layout />}>\r\n          <Route index element={<Home />} />\r\n          <Route path=\"register\" element={<Register />} />\r\n          <Route path=\"draw\" element={<Play />} />\r\n          <Route path=\"*\" element={<NoPage />} />\r\n        </Route>\r\n      </Routes>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport App from \"./App\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(<App />);\r\n"],"sourceRoot":""}