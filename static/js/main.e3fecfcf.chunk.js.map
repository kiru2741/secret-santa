{"version":3,"sources":["pages/Home.js","firebase/firebase.js","pages/Register.js","pages/Play.js","pages/Layout.js","pages/NoPage.js","App.js","index.js"],"names":["homediv","margin","display","flexDirection","gap","Home","React","createElement","style","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","Register","formData","setFormData","useState","name","address","number","isAllowed","isAvailable","message","setMessage","loading","setLoading","usersCollection","collection","handleInputChange","e","value","target","prevData","[object Object]","className","onSubmit","async","preventDefault","addDoc","required","type","onChange","placeholder","Play","inputValue","setInputValue","randomUser","setRandomUser","users","getDocs","currUser","docs","filter","doc","id","length","data","available_users","Math","floor","random","randomUserRef","updateDoc","currUserRef","ButtonStyle","color","padding","borderRadius","backgroundColor","fontWeight","Layout","Fragment","Link","to","Outlet","NoPage","App","HashRouter","Routes","Route","path","element","index","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.e3fecfcf.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst homediv = {\r\n  margin: \"5rem\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: \"1rem\",\r\n};\r\n\r\nfunction Home() {\r\n  return (\r\n    <div style={homediv}>\r\n      <h3>Here's how to play Secret Santa</h3>\r\n\r\n      <p>Participants register their names.</p>\r\n      <p>Names are mixed up.</p>\r\n      <p>Each participant draws a name.</p>\r\n      <p>\r\n        The person who draws a name is the Secret Santa of the person whose name\r\n        is drawn.\r\n      </p>\r\n      <p>The Secret Santa gifts the person.</p>\r\n      <p>\r\n        After opening their present, the giftee guesses who their Secret Santa\r\n        is.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDYkcfMqte6awVLNbDV-Obg1riHK4JtLaM\",\r\n  authDomain: \"secret-santa-f669f.firebaseapp.com\",\r\n  projectId: \"secret-santa-f669f\",\r\n  storageBucket: \"secret-santa-f669f.appspot.com\",\r\n  messagingSenderId: \"112658891852\",\r\n  appId: \"1:112658891852:web:0770883182127abed220e9\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n","import React, { useState } from \"react\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    number: \"\",\r\n    isAllowed: true,\r\n    isAvailable: true,\r\n  });\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      await addDoc(usersCollection, formData);\r\n      setMessage(\"Registration successful!\");\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setMessage(e.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-form\">\r\n      <form onSubmit={handleSubmit} className=\"\">\r\n        <h3>Register to receive a gift from secret Santa</h3>\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Name\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"address\"\r\n          value={formData.address}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Address\"\r\n        />\r\n\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"number\"\r\n          value={formData.number}\r\n          onChange={handleInputChange}\r\n          className=\"\"\r\n          placeholder=\"Mobile number\"\r\n        />\r\n\r\n        <button type=\"submit\" className=\"\">\r\n          Submit\r\n        </button>\r\n        {loading && <p style={{ margin: \"2rem 0\" }}>Loading...</p>}\r\n        {message && <p style={{ margin: \"2rem 0\" }}>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { getDocs, collection, doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\n\r\nconst Play = () => {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [randomUser, setRandomUser] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const usersCollection = collection(db, \"users\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    //logic for form submission\r\n    const users = await getDocs(usersCollection);\r\n\r\n    let currUser = users.docs.filter((doc) => doc.id === inputValue);\r\n    setLoading(false);\r\n\r\n    if (currUser.length > 0 && currUser[0].data().isAllowed) {\r\n      setMessage(\r\n        \"Hi \" + currUser[0].data().name + \", You should gift this person.\"\r\n      );\r\n      //pick a random user form the available users\r\n      const available_users = users.docs.filter(\r\n        (doc) => doc.data().isAvailable === true && doc.id !== inputValue\r\n      );\r\n\r\n      const randomUser =\r\n        available_users[Math.floor(Math.random() * available_users.length)];\r\n\r\n      setRandomUser(randomUser);\r\n\r\n      //update the random user as not available\r\n      const randomUserRef = doc(db, \"users\", randomUser.id);\r\n      await updateDoc(randomUserRef, { isAvailable: false });\r\n\r\n      //update curr user as not allowed\r\n      const currUserRef = doc(db, \"users\", currUser[0].id);\r\n      await updateDoc(currUserRef, { isAllowed: false });\r\n      //\r\n    } else if (currUser.length > 0 && currUser[0].data().name) {\r\n      //\r\n      setMessage(\"Hi \" + currUser[0].data().name + \", Your turn was over.\");\r\n      //\r\n    } else {\r\n      setMessage(\"Invalid ID!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"draw-section\">\r\n      <h3>Enter your participant ID to draw a name</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          placeholder=\"Participant ID\"\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      {loading && <p>Loading...</p>}\r\n      {message && <p>{message}</p>}\r\n      {randomUser && (\r\n        <div className=\"drawn-user\">\r\n          <p>{randomUser.data().name}</p>\r\n          <p>{randomUser.data().address}</p>\r\n          <p>{randomUser.data().number}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import { Outlet, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst ButtonStyle = {\r\n  color: \"rgb(60,60,60)\",\r\n  padding: \"0.5rem 2rem\",\r\n  borderRadius: \"5rem\",\r\n  backgroundColor: \"rgb(255, 230, 230)\",\r\n  fontWeight: \"bold\",\r\n};\r\n\r\nconst Layout = () => {\r\n  return (\r\n    <>\r\n      <nav className=\"navbar\">\r\n        <div className=\"nav-left\">\r\n          <Link to=\"/\">\r\n            <span>Secret Santa</span>\r\n          </Link>\r\n        </div>\r\n        <div className=\"nav-right\">\r\n          <Link to=\"/draw\" style={ButtonStyle}>\r\n            <span>Draw</span>\r\n          </Link>\r\n\r\n          <Link to=\"/register\" style={ButtonStyle}>\r\n            <span>Register</span>\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n\r\nconst NoPage = () => {\r\n  return <h1 style={{ margin: \"5rem\" }}>404</h1>;\r\n};\r\n\r\nexport default NoPage;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Register from \"./pages/Register\";\nimport Play from \"./pages/Play\";\nimport Layout from \"./pages/Layout\";\nimport NoPage from \"./pages/NoPage\";\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route index element={<Home />} />\n          <Route path=\"register\" element={<Register />} />\n          <Route path=\"draw\" element={<Play />} />\n          <Route path=\"*\" element={<NoPage />} />\n        </Route>\n      </Routes>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n"],"sourceRoot":""}